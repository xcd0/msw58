#include "rev2.h"
#include "keymap_jp.h"

// http://www.keyboard-layout-editor.com/##@_name=msw58&author=xcd0&notes=A%20hand-wiring%20split%20keyboard%20with%203D%20print%20case.%20%20%0Ahttps%2F:%2F%2F%2F%2Fgithub.com%2F%2Fxcd0%2F%2Fmsw58&switchMount=cherry%3B&@_c=%23f7c199&sb=gateron&a:7&f:9&w:2&h:2%3B&=&_x:-2&w:2&h:2%3B&=%3Cb%3EEsc%3C%2F%2Fb%3E%0A%0A%0A%0AF1&_c=%23cccccc&w:2&h:2%3B&=%3Cb%3E1%0A%0A%0A%0AF2&_w:2&h:2%3B&=%3Cb%3E2%0A%0A%0A%0AF3&_w:2&h:2%3B&=%3Cb%3E3%0A%0A%0A%0AF4&_w:2&h:2%3B&=%3Cb%3E4%0A%0A%0A%0AF5&_w:2&h:2%3B&=%3Cb%3E5%0A%0A%0A%0AF6&_x:4&w:2&h:2%3B&=%3Cb%3E6%0A%0A%0A%0AF7&_w:2&h:2%3B&=%3Cb%3E7%0A%0A%0A%0AF8&_w:2&h:2%3B&=%3Cb%3E8%0A%0A%0A%0AF9&_w:2&h:2%3B&=%3Cb%3E9%0A%0A%0A%0AF10&_w:2&h:2%3B&=%3Cb%3E0%0A%0A%0A%0AF11&_w:2&h:2%3B&=%3Cb%3E-%0A%0A%0A%0AF12%3B&@_y:1&c=%23f7c199&w:2&h:2%3B&=%3Cb%3ETab&_c=%23cccccc&a:5&w:2&h:2%3B&=%0A~%0A%0A%0A%0A%0A%3Cb%3EQ&_w:2&h:2%3B&=%0A%2F_%0A%0A%0A%0A%0A%3Cb%3EW&_w:2&h:2%3B&=%22D%22%0A%22%0A%0A%0A%0A%0A%3Cb%3EE&_a:4&fa@:0&:0&:0&:0&:0&:0&:5&:0&:0&:0&:0%3B&w:2&h:2%3B&=%0A%0A%0A%0A%0A%0AQ%3Cbr%3EW%3Cbr%3EE%3Cbr%3ET%3Cbr%3EY%0A%0A%22F%22%0A%3Cb%3ER%0A'&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0AE%3Cbr%3EE%3Cbr%3EP%3Cbr%3ER%3Cbr%3ES%3Cbr%3ET%0A%0AG%0A%3Cb%3ET%0A%60&_x:4&a:5&f2:0&w:2&h:2%3B&=%0A%2F&%0A%0A%0A%0A%0A%3Cb%3EY&_a:4&fa@:0&:0&:0&:0&:0&:0&:0&:8&:0&:0&:0%3B&w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%0AM%3Cbr%3EC%3Cbr%3EL%0AS%0A%3Cb%3EU%0A(&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%0AM%3Cbr%3EC%3Cbr%3EC%0AT%0A%3Cb%3EI%0A%3C&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%0AM%3Cbr%3EC%3Cbr%3ER%0AR%0A%3Cb%3EO%0A%7B&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%0AW%3Cbr%3EU%0A%0A%3Cb%3EP%0A%5B&_a:7&w:2&h:2%3B&=%3Cb%3E%2F@%3B&@_y:1&c=%23f7c199&w:2&h:2%3B&=%3Cb%3EIns%3C%2F%2Fb%3E%3Cbr%3E%E2%86%92Alt&_c=%23cccccc&a:5&w:2&h:2%3B&=%0A+%0A%0A%0A%0A%0A%3Cb%3EA&_w:2&h:2%3B&=O%0A-%0A%0A%0A%0A%0A%3Cb%3ES&_w:2&h:2%3B&=E%0A*%0A%0A%0A%0A%0A%3Cb%3ED&_a:4&fa@:0&:0&:0&:0&:0&:0&:5&:8&:0&:0&:0%3B&w:2&h:2%3B&=%0A%0A%0A%0A%0A%0AY%3Cbr%3ES%3Cbr%3ET%3Cbr%3ER%3Cbr%3EP%0A%0AU%0A%3Cb%3EF%0A%2F=&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0AR%3Cbr%3ES%3Cbr%3ET%0A%0AI%0A%3Cb%3EG%0A%2F:&_x:4&a:6&fa@:5&:0&:8&:0&:0&:0&:5&:8&:0%3B&w:2&h:2%3B&=%E2%86%90%0A%0AM%3Cbr%3EL%0A%0A%0A%0A%0A%0A%3Cb%3EH&_a:4&w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%E2%86%93%0AM%3Cbr%3ED%0A%0A%3Cb%3EJ%0A)&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%E2%86%91%0AM%3Cbr%3EU%0A%0A%3Cb%3EK%0A%3E&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%E2%86%92%0AM%3Cbr%3ER%0A%0A%3Cb%3EL%0A%7D&_w:2&h:2%3B&=%0A%0A%0A%0A%0A%0A%0AW%3Cbr%3ED%0A%0A%3Cb%3E%2F%3B%0A%5D&_a:7&f2=undefined&w:2&h:2%3B&=%3Cb%3E%2F:%3B&@_y:1&c=%23f7c199&w:2&h:2%3B&=%3Cb%3EHome&_c=%23cccccc&a:5&w:2&h:2%3B&=%0A!%0A%0A%0A%0A%0A%3Cb%3EZ&_w:2&h:2%3B&=%0A%3F%0A%0A%0A%0A%0A%3Cb%3EX&_w:2&h:2%3B&=%0A%23%0A%0A%0A%0A%0A%3Cb%3EC&_w:2&h:2%3B&=%0A$%0A%0A%0A%0A%0A%3Cb%3EV&_w:2&h:2%3B&=%0A%25%0A%0A%0A%0A%0A%3Cb%3EB&_x:4&a:7&w:2&h:2%3B&=%3Cb%3EN&_w:2&h:2%3B&=%3Cb%3EM&_w:2&h:2%3B&=%3Cb%3E,&_w:2&h:2%3B&=%3Cb%3E.&_w:2&h:2%3B&=%E2%86%91%20jk%5C%3Cbr%3E%3Cb%3E%2F%2F%3C%2F%2Fb%3E&_c=%23f7c199&w:2&h:2%3B&=%3Cb%3EEnd%3B&@_rx:4&ry:18&y:-10&x:-1&c=%23cccccc&w:2&h:2%3B&=%3Cb%3E%E8%8B%B1%3C%2F%2Fb%3E%3Cbr%3E%E2%86%92gui%3B&@_rx:24&y:-10&x:-1&c=%23f7c199&w:2&h:2%3B&=%3Cb%3E%E3%81%8B%E3%81%AA%3B&@_r:15&rx:4&y:-10&x:-1&w:2&h:2%3B&=%3Cb%3ECtrl%3B&@_r:30&y:-1&x:-1&w:2&h:2%3B&=%3Cb%3EShift%3B&@_r:45&y:-1&x:-1&w:2&h:2%3B&=%3Cb%3ESpace%3B&@_r:60&y:-1&x:-1&c=%23d18686&a:5&fa@:0&:5&:0&:0&:0&:0&:0%3B&w:2&h:2%3B&=%0AAlt%0A%0A%0A%0A%0A%3Cb%3E%E2%86%90%3B&@_r:-60&rx:24&y:-10&x:-1&w:2&h:2%3B&=%0AGUI%0A%0A%0A%0A%0A%3Cb%3E%E2%86%92%3B&@_r:-45&y:-1&x:-1&c=%23f7c199&a:7&w:2&h:2%3B&=%E2%86%91%20Del%3Cbr%3E%3Cb%3EBs%3C%2F%2Fb%3E%3B&@_r:-30&y:-1&x:-1&w:2&h:2%3B&=%3Cb%3EEnt%3B&@_r:-15&y:-1&x:-1&w:2&h:2%3B&=%3Cb%3ESymbol%3C%2F%2Fb%3E

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  /* Qwerty
   * ,----------------------------------------------------------.  ,-----------------------------------------------------.
   * |  ESC     |     1     |   2    |   3    |   4    |   5    |  |   6    |   7    |   8    |   9    |   0    |   -    |
   * |----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------|
   * |  Tab     |     Q     |   W    |   E    |   R    |   T    |  |   Y    |   U    |   I    |   O    |   P    |   @    |
   * |----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------|
   * | Ins->Alt |     A     |   S    |   D    |   F    |   G    |  |   H    |   J    |   K    |   L    |   ;    |   :    |
   * |----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------|
   * |  HOME    |     Z     |   X    |   C    |   V    |   B    |  |   N    |   M    |   ,    |   .    |  / \   |   END  |
   * `----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------'
   *            | EISU->gui | Ctrl   | Space  | Shift  | LEFT   |  | RIGHT  | Bs  Dl | Enter  | Symbol |  KANA  |
   *            `-----------------------------------------------'  `--------------------------------------------'
   */

  [_QWERTY] = LAYOUT( \
      JP_ESC,        JP_1,            JP_2,    JP_3,              JP_4,    JP_5,  /**/   JP_6,    JP_7,    JP_8,    JP_9,    JP_0,    JP_MINS, \
      JP_TAB,        JP_Q,            JP_W,    JP_E,              JP_R,    JP_T,  /**/   JP_Y,    JP_U,    JP_I,    JP_O,    JP_P,    JP_AT,   \
      ALT_T(JP_INS), JP_A,            JP_S,    JP_D,              JP_F,    JP_G,  /**/   JP_H,    JP_J,    JP_K,    JP_L,    JP_SCLN, JP_COLN, \
      JP_HOME,       JP_Z,            JP_X,    JP_C,              JP_V,    JP_B,  /**/   JP_N,    JP_M,    JP_COMM, JP_DOT,  JP_SLSH, JP_END,  \
                     LGUI_T(KC_MHEN), JP_LCTL, TT(_QWERTY_SHIFT), JP_SPC,  LEFT,  /**/   RIGHT,   JP_BSPC, JP_ENT,  SYMBOL,  KC_HENK                             \
      ),
  /* SHIFTを押してるとき レイヤーを切り替えちゃう */
  [_QWERTY_SHIFT] = LAYOUT( \
      S(JP_ESC),  S(JP_1), S(JP_2), S(JP_3), S(JP_4),   S(JP_5),    /**/  S(JP_6),     S(JP_7), S(JP_8),    S(JP_9),   S(JP_0),    S(JP_MINS), \
      S(JP_TAB),  S(JP_Q), S(JP_W), S(JP_E), S(JP_R),   S(JP_T),    /**/  S(JP_Y),     S(JP_U), S(JP_I),    S(JP_O),   S(JP_P),    S(JP_AT),   \
      S(JP_INS),  S(JP_A), S(JP_S), S(JP_D), S(JP_F),   S(JP_G),    /**/  S(JP_H),     S(JP_J), S(JP_K),    S(JP_L),   S(JP_SCLN), S(JP_COLN), \
      S(JP_HOME), S(JP_Z), S(JP_X), S(JP_C), S(JP_V),   S(JP_B),    /**/  S(JP_N),     S(JP_M), S(JP_COMM), S(JP_DOT), S(JP_SLSH), S(JP_END),  \
                  KC_MHEN, JP_LCTL, S(JP_SPC), _______, S(JP_LALT), /**/  S(JP_LGUI),  JP_DEL,  JP_ENT,     SYMBOL,    KC_HENK                 \
      ),

  /* Ystrp
   * ,----------------------------------------------------------.  ,-----------------------------------------------------.
   * |  ESC     |   1       |   2    |   3    |   4    |   5    |  |   6    |   7    |   8    |   9    |   0    |   -    |
   * |----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------|
   * |  Tab     |   Q       |   W    |  "D"   |  "F"   |  "G"   |  |   Y    |  "S"   |  "T"   |  "R"   |   P    |   @    |
   * |----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------|
   * | Ins->Alt |   A       |  "O"   |  "E"   |  "U"   |  "I"   |  |   H    |   J    |   K    |   L    |   ;    |   :    |
   * |----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------|
   * |  HOME    |   Z       |   X    |   C    |   V    |   B    |  |   N    |   M    |   ,    |   .    |   /    |   END  |
   * `----------+-----------+--------+--------+--------+--------|  |--------+--------+--------+--------+--------+--------'
   *            | EISU->gui | Ctrl   | Space  | Shift  | LEFT   |  | RIGHT  | Bs Dl  | Enter  | Symbol |  KANA  |
   *            `-----------------------------------------------'  `--------------------------------------------'
   */

  [_YSTRP] = LAYOUT( \
      JP_ESC,        JP_1,            JP_2,    JP_3,             JP_4,    JP_5,  /**/   JP_6,  JP_7,   JP_8,    JP_9,   JP_0,    JP_MINS, \
      JP_TAB,        JP_Q,            JP_W,    JP_D,             JP_F,    JP_G,  /**/   JP_Y,  JP_S,   JP_T,    JP_R,   JP_P,    JP_AT,   \
      ALT_T(JP_INS), JP_A,            JP_O,    JP_E,             JP_U,    JP_I,  /**/   JP_H,  JP_J,   JP_K,    JP_L,   JP_SCLN, JP_COLN, \
      JP_HOME,       JP_Z,            JP_X,    JP_C,             JP_V,    JP_B,  /**/   JP_N,  JP_M,   JP_COMM, JP_DOT, JP_SLSH, JP_END,  \
                     LGUI_T(KC_MHEN), JP_LCTL, TT(_YSTRP_SHIFT), JP_SPC,  LEFT,  /**/   RIGHT, JP_DEL, JP_ENT,  SYMBOL, KC_HENK           \
      ),
  /* SHIFTを押してるとき レイヤーを切り替えちゃう */
  [_YSTRP_SHIFT] = LAYOUT( \
      S(JP_ESC),  S(JP_1), S(JP_2), S(JP_3),   S(JP_4), S(JP_5),    /**/  S(JP_6),    S(JP_7), S(JP_8),    S(JP_9),   S(JP_0),    S(JP_MINS), \
      S(JP_TAB),  S(JP_Q), S(JP_W), S(JP_D),   S(JP_F), S(JP_G),    /**/  S(JP_Y),    S(JP_S), S(JP_T),    S(JP_R),   S(JP_P),    S(JP_AT),   \
      S(JP_INS),  S(JP_A), S(JP_O), S(JP_E),   S(JP_U), S(JP_I),    /**/  S(JP_H),    S(JP_J), S(JP_K),    S(JP_L),   S(JP_SCLN), S(JP_COLN), \
      S(JP_HOME), S(JP_Z), S(JP_X), S(JP_C),   S(JP_V), S(JP_B),    /**/  S(JP_N),    S(JP_M), S(JP_COMM), S(JP_DOT), S(JP_SLSH), S(JP_END),  \
                  KC_MHEN, JP_LCTL, S(JP_SPC), _______, S(JP_LALT), /**/  S(JP_LGUI), JP_DEL,     JP_ENT,    SYMBOL,     KC_HENK              \
      ),

  /* Symbol
   * 普通のレイヤーでShiftとかAltとかGUIがマクロになっているので、何かしら問題があるかもしれない。
   * その時代替できるようにピュアなやつをここにおく。
   * ,-----------------------------------------------.  ,----------------------------------------------.
   * | ESC   |   1   |   2   |   3   |   4   |   5   |  |   6   |   7   |   8   |   9   |   0   |  -    |
   * |-------+-------+-------+-------+-------+-------|  |-------+-------+-------+-------+-------+-------|
   * | Tab   |   ~   |   _   |   "   |   '   |   `   |  |   &   |   (   |   <   |   {   |   [   |  @    |
   * |-------+-------+-------+-------+-------+-------|  |-------+-------+-------+-------+-------+-------|
   * |Insert |   +   |   -   |   *   |   =   |   :   |  |   |   |   )   |   >   |   }   |   ]   |  :    |
   * |-------+-------+-------+-------+-------+-------|  |-------+-------+-------+-------+-------+-------|
   * | HOME  |   !   |   ?   |   #   |   $   |   %   |  |       |   @   |   ^   |   ,   |   \   |  END  |
   * `-------+-------+-------+-------+-------+-------|  |-------+-------+-------+-------+-------+-------'
   *         | EISU  |  Ctrl | Space | Shift | Alt   |  | LGUI  | BkSp  | Enter |       |  KANA |
   *         `---------------------------------------'  `---------------------------------------'
   */

  [_SYMBOL] = LAYOUT( \
      JP_ESC,  JP_1,    JP_2,    JP_3,    JP_4,    JP_5,     /**/  JP_6,    JP_7,    JP_8,    JP_9,    JP_0,    JP_MINS,\
      JP_TAB,  JP_TILD, JP_UNDS, JP_DQT,  JP_QUOT, JP_GRV,   /**/  JP_AMPR, JP_LPRN, JP_LT,   JP_LCBR, JP_LBRC, JP_AT,  \
      JP_INS,  JP_PLUS, JP_MINS, JP_ASTR, JP_EQL,  JP_COLN,  /**/  JP_PIPE, JP_RPRN, JP_GT,   JP_RCBR, JP_RBRC, JP_COLN,\
      JP_HOME, JP_EXLM, JP_QUES, JP_HASH, JP_DLR,  JP_PERC,  /**/  _______, JP_AT,   JP_CIRC, JP_COMM, JP_BKSL, JP_END, \
               KC_MHEN, JP_LCTL, JP_LSFT, JP_SPC,  JP_LALT,  /**/  JP_LGUI, JP_BSPC, JP_ENT,  _______,  KC_HENK         \
      ),

  /* LEFT
   * ,-----------------------------------------.  ,-----------------------------------------.
   * |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  |  F7  |  F8  |  F9  | F10  |  F11 |  F12 |
   * |------+------+------+------+------+------|  |------+------+------+------+------+------|
   * |      |      |      |      |      |      |  |      |      |      |      |      |      |
   * |------+------+------+------+------+------|  |------+------+------+------+------+------|
   * |      |      |      |      |Qwerty|EEPROM|  | Left | Down |  Up  |Right |      |      |
   * |------+------+------+------+------+------|  |------+------+------+------+------+------|
   * |      |      |      |      |Ystrp |Reset |  |      |      |      |      |      |      |
   * `------+------+------+------+------+------|  |------+------+------+------+------+------'
   *        |      | Ctrl |Space |Shift |      |  |Adjust| BkSp |Enter |Delete|      |
   *        `----------------------------------'  `----------------------------------'
   */

  [_LEFT] = LAYOUT( \
      KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   KC_F6,   /**/ KC_F7,   KC_F8,   KC_F9,   KC_F10,  KC_F11,  KC_F12,  \
      _______, _______, _______, _______, _______, _______, /**/ _______, _______, _______, _______, _______, _______, \
      _______, _______, _______, _______, QWERTY,  EEP_RST, /**/ JP_LEFT, JP_DOWN, JP_UP,   JP_RGHT, _______, _______, \
      _______, _______, _______, _______, YSTRP,   RESET,   /**/ _______, _______, _______, _______, _______, _______, \
               _______, JP_LCTL, JP_SPC,  JP_LSFT, _______, /**/ ADJUST,  JP_BSPC, JP_ENT,  JP_DEL,  _______           \
      ),

  /* Right
   * ,-----------------------------------------.  ,-----------------------------------------.
   * |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  |  F7  |  F8  |  F9  | F10  |  F11 |  F12 |
   * |------+------+------+------+------+------|  |------+------+------+------+------+------|
   * |      |      |      |      |      |      |  |      | M.lc | M.mc | M.rc | wh.u |      |
   * |------+------+------+------+------+------|  |------+------+------+------+------+------|
   * |      |      |      |      |Qwerty|EEPROM|  | M.l  | M.d  | M.u  | M.r  | wh.d |      |
   * |------+------+------+------+------+------|  |------+------+------+------+------+------|
   * |      |      |      |      |Ystrp |Reset |  |      |      |      |      |      |      |
   * `------+------+------+------+------+------|  |------+------+------+------+------+------'
   *        |      | Ctrl |Space |Shift |Adjust|  |      | BkSp |Enter |Delete|      |
   *        `----------------------------------'  `----------------------------------'
   */

  [_RIGHT] = LAYOUT( \
      KC_F1,   KC_F2,   KC_F3,   KC_F4,   KC_F5,   KC_F6,   /**/ KC_F7,   KC_F8,   KC_F9,   KC_F10,  KC_F11,  KC_F12,  \
      _______, _______, _______, _______, _______, _______, /**/ _______, JP_BTN1, JP_BTN3, JP_BTN2, JP_WH_U, _______, \
      _______, _______, _______, _______, QWERTY,  EEP_RST, /**/ JP_MS_L, JP_MS_D, JP_MS_U, JP_MS_R, JP_WH_D, _______, \
      _______, _______, _______, _______, YSTRP,   RESET,   /**/ _______, _______, _______, _______, _______, _______, \
               _______, JP_LCTL, JP_SPC,  JP_LSFT, _______, /**/ ADJUST,  JP_BSPC, JP_ENT,  JP_DEL,  _______           \
      ),

  /* Adjust
   * LeftとRightを同時押しするとこのレイヤーになります。
   * ,-----------------------------------------.  ,------------------------------------------.
   * |      |      |      |      |      |      |  |      |      |      |      |      |       |
   * |------+------+------+------+------+------|  |------+------+------+------+------+-------|
   * |      |      |      |      |      |      |  |      |      |      |      |      |       |
   * |------+------+------+------+------+------|  |------+------+------+------+------+-------|
   * |      |      |      |      |      |      |  |      |      |      |      |      |       |
   * |------+------+------+------+------+------|  |------+------+------+------+------+-------|
   * |      |      |      |      |      |      |  |      |      |      |      |      |       |
   * `------+------+------+------+------+------|  |------+------+------+------+------+-------'
   *        |      |      |      |      |      |  |      |      |      |      |      |
   *        `----------------------------------'  `----------------------------------'
   */

  [_ADJUST] = LAYOUT( \
      _______, _______, _______, _______, _______, _______, /**/ _______, _______, _______, _______, _______, _______, \
      _______, _______, _______, _______, _______, _______, /**/ _______, _______, _______, _______, _______, _______, \
      _______, _______, _______, _______, _______, _______, /**/ _______, _______, _______, _______, _______, _______, \
      _______, _______, _______, _______, _______, _______, /**/ _______, _______, _______, _______, _______, _______, \
               _______, _______, _______, _______, _______, /**/ _______, _______, _______, _______, _______           \
      )
};


